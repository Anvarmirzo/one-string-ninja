(()=>{function e(e,n){var a="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!a){if(Array.isArray(e)||(a=function(e,n){if(!e)return;if("string"==typeof e)return t(e,n);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return t(e,n)}(e))||n&&e&&"number"==typeof e.length){a&&(e=a);var r=0,s=function(){};return{s:s,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,c=!0,i=!1;return{s:function(){a=a.call(e)},n:function(){var e=a.next();return c=e.done,e},e:function(e){i=!0,l=e},f:function(){try{c||null==a.return||a.return()}finally{if(i)throw l}}}}function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}document.addEventListener("DOMContentLoaded",(function(){"use strict";var t,n=0,a=0,r={name:"",email:"",year:"",hasGuitar:"",during:"",terms:{}};t=document.querySelectorAll("[data-page]"),document.getElementById("pages-count").textContent=+t.length-1>12?"12":t.length-1,a=+t.length-1>12?"12":t.length-1;var s,l,c,i,d,o,u,m,g,v,y,f=document.getElementById("hold-current-page");new MutationObserver((function(e){e.forEach((function(e){if("attributes"===e.type){if(8!==n){var t=document.querySelector('[data-page="'.concat(n-1,'"]')),r=document.querySelector('[data-page="'.concat(n,'"]'));t.classList.remove("active"),r.classList.add("active")}var s=document.getElementById("progress"),l=document.getElementById("progress-bar-line");document.getElementById("display-current-page").textContent=n,n&&s.classList.add("active"),l.style.width="".concat(n/a*100,"%")}}))})).observe(f,{attributes:!0}),document.addEventListener("click",(function(e){e.target.closest("[data-next-btn]")&&"true"!==e.target.dataset.disabled&&(n++,f.value=n)})),s=0,l=document.getElementById("welcome-slider__contorls"),c=document.getElementById("welcome-slider__images").children,i=document.getElementById("welcome-slider__text").children,l.addEventListener("click",(function(e){var t=e.target.closest("button");if(t&&l.contains(t)){var a=l.querySelectorAll("[data-control]");if(a[s].classList.remove("active"),c[s].classList.remove("active"),i[s].classList.remove("active"),t.hasAttribute("data-control"))s=+t.getAttribute("data-control");else if("next-btn"===t.id)if(s<2)1===s&&(t.textContent="Начать!"),s++;else{var r=document.querySelector('[data-page="0"]'),d=document.querySelector('[data-page="1"]');r.classList.remove("active"),d.classList.add("active"),n++,f.value=n}switch(a[s].classList.add("active"),c[s].classList.add("active"),i[s].classList.add("active"),s){case 0:break;case 1:a[0].style.left="17px",a[1].style.left="58px",a[2].style.left="0";break;case 2:a[0].style.left="32px",a[1].style.left="16px"}}})),function(){var e=0,t=document.getElementById("subscribe-slider__contorls"),a=document.getElementById("subscribe-slider__text").children;t.addEventListener("click",(function(r){var s=r.target.closest("button");if(s&&t.contains(s)){var l=t.querySelectorAll("[data-subscribe-control]");if(l[e].classList.remove("active"),a[e].classList.remove("active"),s.hasAttribute("data-subscribe-control"))e=+s.getAttribute("data-subscribe-control");else if("subscribe-btn"===s.id)if(e<3)e++;else{var c=document.querySelector('[data-page="13"]'),i=document.querySelector('[data-page="14"]');c.classList.remove("active"),i.classList.add("active"),n++,f.value=n}switch(l[e].classList.add("active"),a[e].classList.add("active"),e){case 0:break;case 1:l[0].style.left="16px",l[1].style.left="0";break;case 2:l[0].style.left="32px",l[2].style.left="16px";break;case 3:l[0].style.left="48px",l[3].style.left="32px"}}}))}(),(d=document.getElementById("name-form")).addEventListener("submit",(function(e){e.preventDefault();var t=document.getElementById("username");r.name=d.querySelector("input").value,t.textContent=r.name})),(o=document.getElementById("email-form")).addEventListener("submit",(function(e){e.preventDefault();var t=document.getElementById("username");r.email=o.querySelector("input").value,t.textContent=r.name})),document.getElementById("year-btns").addEventListener("click",(function(e){e.preventDefault(),e.target.closest("button")&&(e.target.dataset.year?r.year=e.target.dataset.year:(r.year=e.target.parentElement.dataset.year,r.year||(r.year=e.target.parentElement.parentElement.dataset.year)))})),document.getElementById("has-guitar-btns").addEventListener("click",(function(e){e.target.closest("[data-next-btn]")&&(e.target.dataset.hasguitar?r.hasGuitar=e.target.dataset.hasguitar:(r.hasGuitar=e.target.parentElement.dataset.hasguitar,r.hasGuitar||(r.hasGuitar=e.target.parentElement.parentElement.dataset.hasguitar)))})),document.getElementById("during-btns").addEventListener("click",(function(e){e.target.closest("[data-next-btn]")&&(e.target.dataset.during?r.during=e.target.dataset.during:(r.during=e.target.parentElement.dataset.during,r.during||(r.during=e.target.parentElement.parentElement.dataset.during)))})),(u=document.getElementById("terms-form")).addEventListener("submit",(function(t){t.preventDefault();var n,a=e(u.querySelectorAll("[type=checkbox]"));try{for(a.s();!(n=a.n()).done;){var s=n.value;r.terms[s.value]=!!s.checked}}catch(e){a.e(e)}finally{a.f()}})),m=document.getElementById("checkboxes"),g=m.querySelectorAll("#during-btns span"),v=m.querySelectorAll(".title"),(y=document.getElementById("change-checkboxes")).addEventListener("click",(function(){if(g.length&&!(v.length<2)){m.classList.add("second-part"),v[0].classList.remove("active"),v[1].classList.add("active"),g[0].textContent="Сыграть крутую песню в любое время",g[1].textContent="Очаровать девушку",g[1].parentElement.classList.add("swapped"),g[2].innerHTML="Играть&nbsp;вместе с другими",g[2].parentElement.classList.add("swapped"),g[3].textContent="Поднимать себе настроение",g[4].innerHTML="Сочинять свою&nbsp;музыку",g[5].parentElement.classList.add("create"),g[6].innerHTML="Медитировать<br> и снимать стресс";var t,a=e(g);try{for(a.s();!(t=a.n()).done;)t.value.previousElementSibling.checked=!1}catch(e){a.e(e)}finally{a.f()}setTimeout((function(){7===n&&(n++,y.setAttribute("data-next-btn","8"),m.setAttribute("data-page","8"),f.value=n)}),1)}})),document.getElementById("close-progress-btn").addEventListener("click",(function(){var e=document.getElementById("progress");e.style.opacity="0",e.style.height="0",e.style.position="absolute",e.style.overflow="hidden"}));var b=function(e,t){var n=document.getElementById(e),a=document.getElementById(t);n.addEventListener("input",(function(e){e.target.value.trim().length>1?a.dataset.disabled="false":a.dataset.disabled="true"})),a.addEventListener("click",(function(){}))};b("name-form-input","name-form-btn"),b("email-form-input","email-form-btn")}))})();